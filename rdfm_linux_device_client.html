

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="">
    
    
      
        <title>RDFM Linux Device Client - RDFM Documentation</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="_static/sphinx_immaterial_theme.0074f731f8a211b06.min.css?v=a5c09059" />
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="deep-orange">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="RDFM Documentation" class="md-header__button md-logo" aria-label="RDFM Documentation" data-md-component="logo">
      <img src="_static/white.svg" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RDFM Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              RDFM Linux Device Client
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <div class="md-header__button">
        <a href="rdfm-docs.pdf" title="PDF - rdfm-docs.pdf">
          <div class="md-icon">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zm192 0v128h128L256 0zM64 224h24c30.9 0 56 25.1 56 56s-25.1 56-56 56h-8v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V240c0-8.8 7.2-16 16-16zm24 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-8v48h8zm72-64c0-8.8 7.2-16 16-16h24c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-24c-8.8 0-16-7.2-16-16V240zm32 112h8c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-8v96zm96-128h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V240c0-8.8 7.2-16 16-16z"/></svg>
          </div>
        </a>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="RDFM Documentation" class="md-nav__button md-logo" aria-label="RDFM Documentation" data-md-component="logo">
      <img src="_static/white.svg" alt="logo">
    </a>
    RDFM Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="introduction.html" class="md-nav__link">
        <span class="md-ellipsis">Introduction</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="system_overview.html" class="md-nav__link">
        <span class="md-ellipsis">System Architecture</span>
      </a>
    </li>
  

    
      
      
      

  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span class="md-ellipsis">RDFM Linux Device Client</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span class="md-ellipsis">RDFM Linux Device Client</span>
      </a>
      
        

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">Introduction</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">Getting started</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#management-functionality" class="md-nav__link">
    <span class="md-ellipsis">Management functionality</span>
  </a>
  
    <nav class="md-nav" aria-label="Management functionality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#actions" class="md-nav__link">
    <span class="md-ellipsis">Actions</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reverse-shell" class="md-nav__link">
    <span class="md-ellipsis">Reverse shell</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-downloading" class="md-nav__link">
    <span class="md-ellipsis">File downloading</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-from-source" class="md-nav__link">
    <span class="md-ellipsis">Installing from source</span>
  </a>
  
    <nav class="md-nav" aria-label="Installing from source">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">Requirements</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#steps" class="md-nav__link">
    <span class="md-ellipsis">Steps</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation-notes" class="md-nav__link">
    <span class="md-ellipsis">Installation notes</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-using-docker" class="md-nav__link">
    <span class="md-ellipsis">Building using Docker</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-client" class="md-nav__link">
    <span class="md-ellipsis">Configuring the client</span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring the client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rdfm-default-config" class="md-nav__link">
    <span class="md-ellipsis">RDFM default config</span>
  </a>
  
    <nav class="md-nav" aria-label="RDFM default config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rootfsparta-string" class="md-nav__link">
    <span class="md-ellipsis">Rootfs<wbr>Part<wbr>A string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rootfspartb-string" class="md-nav__link">
    <span class="md-ellipsis">Rootfs<wbr>Part<wbr>B string</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdfm-overlay-config" class="md-nav__link">
    <span class="md-ellipsis">RDFM overlay config</span>
  </a>
  
    <nav class="md-nav" aria-label="RDFM overlay config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#devicetypefile-string" class="md-nav__link">
    <span class="md-ellipsis">Device<wbr>Type<wbr>File string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updatepollintervalseconds-int" class="md-nav__link">
    <span class="md-ellipsis">Update<wbr>Poll<wbr>Interval<wbr>Seconds int</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrypollintervalseconds-int" class="md-nav__link">
    <span class="md-ellipsis">Retry<wbr>Poll<wbr>Interval<wbr>Seconds int</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#servercertificate-string" class="md-nav__link">
    <span class="md-ellipsis">Server<wbr>Certificate string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serverurl-string" class="md-nav__link">
    <span class="md-ellipsis">Server<wbr>URL string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#httpcacheenabled-bool" class="md-nav__link">
    <span class="md-ellipsis">Http<wbr>Cache<wbr>Enabled bool</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reconnectretrycount-int" class="md-nav__link">
    <span class="md-ellipsis">Reconnect<wbr>Retry<wbr>Count int</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reconnectretrytime-int" class="md-nav__link">
    <span class="md-ellipsis">Reconnect<wbr>Retry<wbr>Time int</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetryenable-bool" class="md-nav__link">
    <span class="md-ellipsis">Telemetry<wbr>Enable bool</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetrybatchsize-int" class="md-nav__link">
    <span class="md-ellipsis">Telemetry<wbr>Batch<wbr>Size int</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telemetryloglevel-string" class="md-nav__link">
    <span class="md-ellipsis">Telemetry<wbr>Log<wbr>Level string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actionenable-bool" class="md-nav__link">
    <span class="md-ellipsis">Action<wbr>Enable bool</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actionqueuesize-int" class="md-nav__link">
    <span class="md-ellipsis">Action<wbr>Queue<wbr>Size int</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shellenable-bool" class="md-nav__link">
    <span class="md-ellipsis">Shell<wbr>Enable bool</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shellconcurrentmaxcount-int" class="md-nav__link">
    <span class="md-ellipsis">Shell<wbr>Concurrent<wbr>Max<wbr>Count int</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filesystemenable-bool" class="md-nav__link">
    <span class="md-ellipsis">File<wbr>System<wbr>Enable bool</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filesystembasedir-string" class="md-nav__link">
    <span class="md-ellipsis">File<wbr>System<wbr>Base<wbr>Dir string</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdfm-telemetry-config" class="md-nav__link">
    <span class="md-ellipsis">RDFM telemetry config</span>
  </a>
  
    <nav class="md-nav" aria-label="RDFM telemetry config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#name-string" class="md-nav__link">
    <span class="md-ellipsis">name string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-string" class="md-nav__link">
    <span class="md-ellipsis">path string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#args-string" class="md-nav__link">
    <span class="md-ellipsis">args <wbr>[]string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tick-int" class="md-nav__link">
    <span class="md-ellipsis">tick int</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdfm-actions-config" class="md-nav__link">
    <span class="md-ellipsis">RDFM actions config</span>
  </a>
  
    <nav class="md-nav" aria-label="RDFM actions config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id-string" class="md-nav__link">
    <span class="md-ellipsis">Id string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id1" class="md-nav__link">
    <span class="md-ellipsis">Name string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-string" class="md-nav__link">
    <span class="md-ellipsis">Command <wbr>[]string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#description-string" class="md-nav__link">
    <span class="md-ellipsis">Description string</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeout-float" class="md-nav__link">
    <span class="md-ellipsis">Timeout float</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rdfm-tags-config" class="md-nav__link">
    <span class="md-ellipsis">RDFM tags config</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-server-device-integration-with-a-demo-linux-device-client" class="md-nav__link">
    <span class="md-ellipsis">Testing server-<wbr>device integration with a demo Linux device client</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#developer-guide" class="md-nav__link">
    <span class="md-ellipsis">Developer Guide</span>
  </a>
  
    <nav class="md-nav" aria-label="Developer Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    <span class="md-ellipsis">Running tests</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="rdfm_android_device_client.html" class="md-nav__link">
        <span class="md-ellipsis">RDFM Android Device Client</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="rdfm_mcumgr_device_client.html" class="md-nav__link">
        <span class="md-ellipsis">RDFM MCUmgr Device Client</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="rdfm_artifact.html" class="md-nav__link">
        <span class="md-ellipsis">RDFM Artifact utility</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="rdfm_manager.html" class="md-nav__link">
        <span class="md-ellipsis">RDFM Manager utility</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="rdfm_mgmt_server.html" class="md-nav__link">
        <span class="md-ellipsis">RDFM Management Server</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="rdfm_ota_manual.html" class="md-nav__link">
        <span class="md-ellipsis">RDFM OTA Manual</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="server_operation.html" class="md-nav__link">
        <span class="md-ellipsis">Server Integration flows</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="rdfm_frontend.html" class="md-nav__link">
        <span class="md-ellipsis">RDFM Frontend</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="api.html" class="md-nav__link">
        <span class="md-ellipsis">RDFM Server API Reference</span>
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1 id="rdfm-linux-device-client">RDFM Linux Device Client<a class="headerlink" href="#rdfm-linux-device-client" title="Permalink to this heading">¶</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>The RDFM Linux Device Client (<code class="docutils literal notranslate"><span class="pre">rdfm-client</span></code>) integrates an embedded Linux device with the RDFM Server.
This allows for performing robust Over-The-Air (OTA) updates of the running system and remote management of the device.</p>
<p><code class="docutils literal notranslate"><span class="pre">rdfm-client</span></code> runs on the target Linux device and handles the process of checking for updates in the background along with maintaining a connection to the RDFM Management Server.</p>
<h2 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permalink to this heading">¶</a></h2>
<p>In order to support robust updates and rollback, the RDFM Client requires proper partition layout and integration with the U-Boot bootloader. To make it easy to integrate the RDFM Client into your Yocto image-building project, it’s recommended to use the <a class="reference external" href="https://github.com/antmicro/meta-antmicro/tree/master/meta-rdfm">meta-rdfm</a> Yocto layer when building the BSPs.</p>
<h2 id="management-functionality">Management functionality<a class="headerlink" href="#management-functionality" title="Permalink to this heading">¶</a></h2>
<p>Other than the always-available OTA component, <code class="docutils literal notranslate"><span class="pre">rdfm-client</span></code> implements some additional remote management functionality.</p>
<h3 id="actions">Actions<a class="headerlink" href="#actions" title="Permalink to this heading">¶</a></h3>
<p>Actions allow execution of predefined sets of commands remotely via the RDFM server.
These commands are defined in an <code class="docutils literal notranslate"><span class="pre">actions.conf</span></code> JSON configuration file found in the daemon’s configuration directory.
For the configuration schema, see the <a class="reference internal" href="#rdfm-actions-config"><span class="xref myst">RDFM actions config</span></a> section.</p>
<p>The action list is synchronized with the server, and is available for querying via the <a class="reference internal" href="api.html#get--api-v2-devices-(string-mac_address)-action-list"><span class="std std-ref">Action List API</span></a> endpoint.
Actions can be executed using the <a class="reference internal" href="api.html#get--api-v2-devices-(string-mac_address)-action-exec-(string-action_id)"><span class="std std-ref">Action Execute API</span></a> endpoint.</p>
<p>All action execution requests are stored in a persistent queue on a disk and fulfilled in a First-In, First-Out order.
By default, there can be a maximum of <strong>32 action requests</strong> in the queue, and any further action execution requests are rejected by the client.
This limit can be configured via the <a class="reference internal" href="#actionqueuesize-int"><span class="xref myst">ActionQueueSize</span></a> configuration key.
An identical queue is also present for action responses, and action status is reported to the server as soon as it is possible to do so.
This allows actions to remain usable, even when the device faces connectivity or power loss issues.</p>
<p>Action functionality can be disabled entirely via the <a class="reference internal" href="#actionenable-bool"><span class="xref myst">ActionEnable</span></a> configuration key.</p>
<h3 id="reverse-shell">Reverse shell<a class="headerlink" href="#reverse-shell" title="Permalink to this heading">¶</a></h3>
<p>The client supports spawning a reverse shell that can be accessed via the RDFM server.
This utilizes an on-demand WebSocket connection between the server and the device to stream contents of the shell session.
To connect to the device, <a class="reference internal" href="rdfm_manager.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">rdfm-mgmt</span></code></span></a> can be used to request a shell session:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><code>rdfm-mgmt<span class="w"> </span>devices<span class="w"> </span>shell<span class="w"> </span>&lt;device-identifier&gt;
</code></pre></div>
</div>
<p>By default, a maximum of 5 concurrent shell sessions can be opened.
This limit can be configured via the <a class="reference internal" href="#shellconcurrentmaxcount-int"><span class="xref myst">ShellConcurrentMaxCount</span></a> configuration key.
Further shell session requests will be rejected by the client.</p>
<p>Shell functionality can be disabled entirely via the <a class="reference internal" href="#shellenable-bool"><span class="xref myst">ShellEnable</span></a> configuration key.</p>
<h3 id="file-downloading">File downloading<a class="headerlink" href="#file-downloading" title="Permalink to this heading">¶</a></h3>
<p>The client supports downloading files from the device its running on. It utilizes intermediate S3 bucket or local storage, depending on RDFM server configuration. To download files <a class="reference internal" href="rdfm_manager.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">rdfm-mgmt</span></code></span></a> can be used:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><code>rdfm-mgmt<span class="w"> </span>devices<span class="w"> </span>download<span class="w"> </span>&lt;device&gt;<span class="w"> </span>&lt;remote-file-path&gt;<span class="w"> </span>&lt;local-file-path&gt;
</code></pre></div>
</div>
<p>You can limit locations of downloadable files to the specific directory using the <a class="reference internal" href="#filesystembasedir-string"><span class="xref myst">FileSystemBaseDir</span></a> configuration key. You can also disable the functionality completely via the <a class="reference internal" href="#filesystemenable-bool"><span class="xref myst">FileSystemEnable</span></a> configuration key.</p>
<h2 id="installing-from-source">Installing from source<a class="headerlink" href="#installing-from-source" title="Permalink to this heading">¶</a></h2>
<h3 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>C compiler</p></li>
<li><p>Go compiler</p></li>
<li><p>liblzma-dev, libssl-dev and libglib2.0-dev packages</p></li>
<li><p><a class="reference external" href="https://github.com/antmicro/go-xdelta">go-xdelta</a> library</p></li>
</ul>
<h3 id="steps">Steps<a class="headerlink" href="#steps" title="Permalink to this heading">¶</a></h3>
<p>To install an RDFM client on a device from source, first clone the repository and build the binary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">antmicro</span><span class="o">/</span><span class="n">rdfm</span><span class="o">.</span><span class="n">git</span> <span class="o">&amp;&amp;</span> <span class="n">cd</span> <span class="n">devices</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">client</span><span class="o">/</span>
<span class="n">make</span>
</code></pre></div>
</div>
<p>Then run the install command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="n">make</span> <span class="n">install</span>
</code></pre></div>
</div>
<p>Ensure the go-xdelta library is installed beforehand. You can install it by following the instructions in the go-xdelta repository. Use the CMake options <code class="docutils literal notranslate"><span class="pre">-DCGO_INTEGRATION=ON</span> <span class="pre">-DENCODER=ON</span></code> during the build process.</p>
<h3 id="installation-notes">Installation notes<a class="headerlink" href="#installation-notes" title="Permalink to this heading">¶</a></h3>
<p>Installing <code class="docutils literal notranslate"><span class="pre">rdfm</span></code> this way does not offer a complete system updater.
System updates require additional integration with the platform’s bootloader and a dual-root partition setup for robust updates.
For this, it’s recommended to build complete BSPs containing <code class="docutils literal notranslate"><span class="pre">rdfm</span></code> using the <a class="reference external" href="https://github.com/antmicro/meta-antmicro/tree/master/meta-rdfm">meta-rdfm</a> Yocto layer.</p>
<h2 id="building-using-docker">Building using Docker<a class="headerlink" href="#building-using-docker" title="Permalink to this heading">¶</a></h2>
<p>All build dependencies for compiling the RDFM Client are included in a dedicated Dockerfile. To build a development container image, you can use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">antmicro</span><span class="o">/</span><span class="n">rdfm</span><span class="o">.</span><span class="n">git</span> <span class="o">&amp;&amp;</span> <span class="n">cd</span> <span class="n">devices</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">client</span><span class="o">/</span>
<span class="n">sudo</span> <span class="n">docker</span> <span class="n">build</span> <span class="o">-</span><span class="n">t</span> <span class="n">rdfmbuilder</span> <span class="o">.</span>
</code></pre></div>
</div>
<p>This will create a Docker image that can be later used to compile the RDFM binary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="n">sudo</span> <span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">rm</span> <span class="o">-</span><span class="n">v</span> <span class="o">&lt;</span><span class="n">rdfm</span><span class="o">-</span><span class="nb">dir</span><span class="o">&gt;</span><span class="p">:</span><span class="o">/</span><span class="n">data</span> <span class="o">-</span><span class="n">it</span> <span class="n">rdfmbuilder</span>
<span class="n">cd</span> <span class="n">data</span><span class="o">/</span><span class="n">devices</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">client</span>
<span class="n">make</span>
</code></pre></div>
</div>
<h2 id="configuring-the-client">Configuring the client<a class="headerlink" href="#configuring-the-client" title="Permalink to this heading">¶</a></h2>
<h3 id="rdfm-default-config">RDFM default config<a class="headerlink" href="#rdfm-default-config" title="Permalink to this heading">¶</a></h3>
<p>The main config file contents are located in <code class="docutils literal notranslate"><span class="pre">/etc/rdfm/rdfm.conf</span></code>. It’s JSON formatted and with the following keys of interest:</p>
<h4 id="rootfsparta-string">RootfsPartA <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#rootfsparta-string" title="Permalink to this heading">¶</a></h4>
<p>Partition A for the A/B updating scheme.</p>
<h4 id="rootfspartb-string">RootfsPartB <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#rootfspartb-string" title="Permalink to this heading">¶</a></h4>
<p>Partition B for the A/B updating scheme.</p>
<h3 id="rdfm-overlay-config">RDFM overlay config<a class="headerlink" href="#rdfm-overlay-config" title="Permalink to this heading">¶</a></h3>
<p>The file <code class="docutils literal notranslate"><span class="pre">/var/lib/rdfm/rdfm.conf</span></code> defines the high-level RDFM client configurations. They are overlaid over the configuration located in <code class="docutils literal notranslate"><span class="pre">/etc/rdfm/rdfm.conf</span></code> during client startup.</p>
<h4 id="devicetypefile-string">DeviceTypeFile <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#devicetypefile-string" title="Permalink to this heading">¶</a></h4>
<p>Path to the device type file.</p>
<h4 id="updatepollintervalseconds-int">UpdatePollIntervalSeconds <code class="docutils literal notranslate"><span class="pre">int</span></code><a class="headerlink" href="#updatepollintervalseconds-int" title="Permalink to this heading">¶</a></h4>
<p>Poll interval for checking for new updates.</p>
<h4 id="retrypollintervalseconds-int">RetryPollIntervalSeconds <code class="docutils literal notranslate"><span class="pre">int</span></code><a class="headerlink" href="#retrypollintervalseconds-int" title="Permalink to this heading">¶</a></h4>
<p>Maximum number of seconds between each retry when authorizing.</p>
<h4 id="servercertificate-string">ServerCertificate <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#servercertificate-string" title="Permalink to this heading">¶</a></h4>
<p>Path to a server SSL certificate.</p>
<h4 id="serverurl-string">ServerURL <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#serverurl-string" title="Permalink to this heading">¶</a></h4>
<p>Management server URL.</p>
<h4 id="httpcacheenabled-bool">HttpCacheEnabled <code class="docutils literal notranslate"><span class="pre">bool</span></code><a class="headerlink" href="#httpcacheenabled-bool" title="Permalink to this heading">¶</a></h4>
<p>Describing if artifact caching is enabled. True by default.</p>
<h4 id="reconnectretrycount-int">ReconnectRetryCount <code class="docutils literal notranslate"><span class="pre">int</span></code><a class="headerlink" href="#reconnectretrycount-int" title="Permalink to this heading">¶</a></h4>
<p>HTTP reconnect retry count.</p>
<h4 id="reconnectretrytime-int">ReconnectRetryTime <code class="docutils literal notranslate"><span class="pre">int</span></code><a class="headerlink" href="#reconnectretrytime-int" title="Permalink to this heading">¶</a></h4>
<p>HTTP reconnect retry time.</p>
<h4 id="telemetryenable-bool">TelemetryEnable <code class="docutils literal notranslate"><span class="pre">bool</span></code><a class="headerlink" href="#telemetryenable-bool" title="Permalink to this heading">¶</a></h4>
<p>Describing if telemetry is enabled. False by default.</p>
<h4 id="telemetrybatchsize-int">TelemetryBatchSize <code class="docutils literal notranslate"><span class="pre">int</span></code><a class="headerlink" href="#telemetrybatchsize-int" title="Permalink to this heading">¶</a></h4>
<p>Number of log entries to be sent to a management server at a time. Fifty by default.</p>
<h4 id="telemetryloglevel-string">TelemetryLogLevel <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#telemetryloglevel-string" title="Permalink to this heading">¶</a></h4>
<p>Denotes which log levels produced by the client should be captured provided that telemetry is enabled. There are seven levels of logs:</p>
<ol class="arabic simple">
<li><p>trace</p></li>
<li><p>debug</p></li>
<li><p>info</p></li>
<li><p>warn</p></li>
<li><p>error</p></li>
<li><p>fatal</p></li>
<li><p>panic</p></li>
</ol>
<p>Setting a level encapsulates all the levels that are above it in severity. For example, setting this to <code class="docutils literal notranslate"><span class="pre">&quot;fatal&quot;</span></code> will capture all fatal <em>and</em> panic level logs. This config entry is not case sensitive. In the case of this field being left empty or with an incorrect value, the daemon will produce a warning and continue running normally.</p>
<h4 id="actionenable-bool">ActionEnable <code class="docutils literal notranslate"><span class="pre">bool</span></code><a class="headerlink" href="#actionenable-bool" title="Permalink to this heading">¶</a></h4>
<p>Allows enabling/disabling action functionality.
True by default.</p>
<h4 id="actionqueuesize-int">ActionQueueSize <code class="docutils literal notranslate"><span class="pre">int</span></code><a class="headerlink" href="#actionqueuesize-int" title="Permalink to this heading">¶</a></h4>
<p>Specifies the size of the action queue.
<code class="docutils literal notranslate"><span class="pre">32</span></code> by default.</p>
<h4 id="shellenable-bool">ShellEnable <code class="docutils literal notranslate"><span class="pre">bool</span></code><a class="headerlink" href="#shellenable-bool" title="Permalink to this heading">¶</a></h4>
<p>Allows enabling/disabling reverse shell functionality.
True by default.</p>
<h4 id="shellconcurrentmaxcount-int">ShellConcurrentMaxCount <code class="docutils literal notranslate"><span class="pre">int</span></code><a class="headerlink" href="#shellconcurrentmaxcount-int" title="Permalink to this heading">¶</a></h4>
<p>Specifies how many concurrent shell sessions can be spawned.
<code class="docutils literal notranslate"><span class="pre">5</span></code> by default.</p>
<h4 id="filesystemenable-bool">FileSystemEnable <code class="docutils literal notranslate"><span class="pre">bool</span></code><a class="headerlink" href="#filesystemenable-bool" title="Permalink to this heading">¶</a></h4>
<p>Allows enabling/disabling filesystem functionality.
True by default.</p>
<h4 id="filesystembasedir-string">FileSystemBaseDir <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#filesystembasedir-string" title="Permalink to this heading">¶</a></h4>
<p>Specifies base directory of downloadable files.
<code class="docutils literal notranslate"><span class="pre">/</span></code> by default.</p>
<h3 id="rdfm-telemetry-config">RDFM telemetry config<a class="headerlink" href="#rdfm-telemetry-config" title="Permalink to this heading">¶</a></h3>
<p>The JSON structured <code class="docutils literal notranslate"><span class="pre">loggers.conf</span></code> file, laying under <code class="docutils literal notranslate"><span class="pre">/etc/rdfm/</span></code>, serves as a configuration file that defines a set of loggers to be executed once the client establishes a connection to the RDFM management server. Each logger can be any executable binary, which will be invoked by the client at predefined intervals. The client captures and processes the output generated by these loggers, providing a flexible mechanism for collecting and reporting system or application data during runtime.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">loggers.json</span></code> file contains an array of dictionaries, each of which describes a logger.</p>
<p>Consider the following example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;current date&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;date&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;--rfc-email&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;tick&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since the file gives the capacity to run arbitrary binaries, its permissions must be set to <code class="docutils literal notranslate"><span class="pre">-rw-r--r--</span></code>.</p>
</div>
<h4 id="name-string">name <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#name-string" title="Permalink to this heading">¶</a></h4>
<p>Denotes the name of the logger, each one should have a unique name. Loggers lower in the file will overwrite their counterparts that are above them.</p>
<h4 id="path-string">path <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#path-string" title="Permalink to this heading">¶</a></h4>
<p>A path to an executable to be ran.</p>
<h4 id="args-string">args <code class="docutils literal notranslate"><span class="pre">[]string</span></code><a class="headerlink" href="#args-string" title="Permalink to this heading">¶</a></h4>
<p>A list of arguments for the given executable.</p>
<h4 id="tick-int">tick <code class="docutils literal notranslate"><span class="pre">int</span></code><a class="headerlink" href="#tick-int" title="Permalink to this heading">¶</a></h4>
<p>Number of milliseconds between each time a logger is ran. In the case of a logger taking more than <code class="docutils literal notranslate"><span class="pre">tick</span></code> to execute, it is killed and the client reports a timeout error.</p>
<h3 id="rdfm-actions-config">RDFM actions config<a class="headerlink" href="#rdfm-actions-config" title="Permalink to this heading">¶</a></h3>
<p>The JSON structured <code class="docutils literal notranslate"><span class="pre">/var/lib/rdfm/actions.conf</span></code> file contains a list of actions that can be executed on the device.
Each action contains a command to execute and a timeout.
Identifiers are used in <code class="docutils literal notranslate"><span class="pre">action_exec</span></code> messages sent from the server to select the action to execute.
Name and description can be used for user-friendly display.
Actions defined in the configuration can be queried using <code class="docutils literal notranslate"><span class="pre">action_list_query</span></code>.</p>
<p>Example configuration:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><code><span class="p">[</span>
<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;Id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;echo&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Echo&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;Command&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;echo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Executing echo action&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;Description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Description of echo action&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;Timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span>
<span class="p">},</span>
<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;Id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sleepTwoSeconds&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sleep 2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;Command&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;sleep&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;Description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Description of sleep 2 seconds action&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;Timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.0</span>
<span class="p">},</span>
<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;Id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sleepFiveSeconds&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sleep 5&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;Command&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;sleep&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;5&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;Description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This action will timeout&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;Timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">3.0</span>
<span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since the file gives the capacity to run arbitrary binaries, its permissions must be set to <code class="docutils literal notranslate"><span class="pre">-rw-r--r--</span></code>.</p>
</div>
<h4 id="id-string">Id <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#id-string" title="Permalink to this heading">¶</a></h4>
<p>Identifier used in execution requests, must be unique.</p>
<h4 id="id1">Name <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h4>
<p>Human readable name, should be unique.</p>
<h4 id="command-string">Command <code class="docutils literal notranslate"><span class="pre">[]string</span></code><a class="headerlink" href="#command-string" title="Permalink to this heading">¶</a></h4>
<p>Command to execute, the first elements is an executable, others are arguments.</p>
<h4 id="description-string">Description <code class="docutils literal notranslate"><span class="pre">string</span></code><a class="headerlink" href="#description-string" title="Permalink to this heading">¶</a></h4>
<p>Human readable action description.</p>
<h4 id="timeout-float">Timeout <code class="docutils literal notranslate"><span class="pre">float</span></code><a class="headerlink" href="#timeout-float" title="Permalink to this heading">¶</a></h4>
<p>Maximum duration of command execution in seconds, command is killed if it doesn’t finish in the time provided.</p>
<h3 id="rdfm-tags-config">RDFM tags config<a class="headerlink" href="#rdfm-tags-config" title="Permalink to this heading">¶</a></h3>
<p>The plaintext <code class="docutils literal notranslate"><span class="pre">/var/lib/rdfm/tags.conf</span></code> file contains a list of tags for the device.
Each line should contain one tag without any additional characters.
The tags are added to device metadata and stored in the database during registration.
They can then be used to filter devices in the RDFM website.</p>
<p>Example configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="n">linux</span><span class="o">-</span><span class="n">client</span>
<span class="n">test</span><span class="o">-</span><span class="n">device</span>
</code></pre></div>
</div>
<p>Including this file is optional. Tags can also be assigned by making a request to the <code class="docutils literal notranslate"><span class="pre">/api/v2/devices/{id}/tag</span></code> endpoint.</p>
<h2 id="testing-server-device-integration-with-a-demo-linux-device-client">Testing server-device integration with a demo Linux device client<a class="headerlink" href="#testing-server-device-integration-with-a-demo-linux-device-client" title="Permalink to this heading">¶</a></h2>
<p>For development purposes, it’s often necessary to test server integration with an existing device client.
To do this, it is possible to use the <a class="reference internal" href="#"><span class="std std-doc">RDFM Linux device client</span></a>, without having to build a compatible system image utilizing the Yocto <a class="reference external" href="https://github.com/antmicro/meta-antmicro/tree/master/meta-rdfm">meta-rdfm layer</a>.
First, build the demo container image:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="n">cd</span> <span class="n">devices</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">client</span><span class="o">/</span>
<span class="n">make</span> <span class="n">docker</span><span class="o">-</span><span class="n">demo</span><span class="o">-</span><span class="n">client</span>
</code></pre></div>
</div>
<p>You can then start a demo Linux client by running the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="o">-</span><span class="n">f</span> <span class="n">docker</span><span class="o">-</span><span class="n">compose</span><span class="o">.</span><span class="n">demo</span><span class="o">.</span><span class="n">yml</span> <span class="n">up</span>
</code></pre></div>
</div>
<p>If required, the following environment variables can be changed in the above <code class="docutils literal notranslate"><span class="pre">docker-compose.demo.yml</span></code> file:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RDFM_CLIENT_SERVER_URL</span></code> - URL to the RDFM Management Server, defaults to <code class="docutils literal notranslate"><span class="pre">http://127.0.0.1:5000/</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RDFM_CLIENT_SERVER_CERT</span></code> <strong>(optional)</strong> - path (within the container) to the CA certificate to use for verification of the connection to the RDFM server. When this variable is set, the server URL must also be updated to use HTTPS instead of HTTP.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RDFM_CLIENT_DEVTYPE</span></code> - device type that will be advertised to the RDFM server; used for determining package compatibility, defaults to <code class="docutils literal notranslate"><span class="pre">x86_64</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RDFM_CLIENT_PART_A</span></code>, <code class="docutils literal notranslate"><span class="pre">RDFM_CLIENT_PART_B</span></code> <strong>(optional)</strong> - specifies path (within the container) to the rootfs A/B partitions that updates will be installed to. They do not need to be specified for basic integration testing; any updates that are installed will go to <code class="docutils literal notranslate"><span class="pre">/dev/zero</span></code> by default.</p></li>
</ul>
<p>The demo client will automatically connect to the specified RDFM server and fetch any available packages.
To manage the device and update deployment, you can use the <a class="reference internal" href="rdfm_manager.html"><span class="std std-doc">RDFM Manager utility</span></a>.</p>
<h2 id="developer-guide">Developer Guide<a class="headerlink" href="#developer-guide" title="Permalink to this heading">¶</a></h2>
<h3 id="running-tests">Running tests<a class="headerlink" href="#running-tests" title="Permalink to this heading">¶</a></h3>
<p>Use the <code class="docutils literal notranslate"><span class="pre">test</span></code> make target to run the unit tests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><code><span class="n">make</span> <span class="n">test</span>
</code></pre></div>
</div>
<p>Additionally, run the scripts available in the <code class="docutils literal notranslate"><span class="pre">scripts/test-docker</span></code> directory. These scripts test basic functionality of the RDFM client.</p>


  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2025-10-31
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="system_overview.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: System Architecture" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              System Architecture
            </div>
          </div>
        </a>
      
      
        
        <a href="rdfm_android_device_client.html" class="md-footer__link md-footer__link--next" aria-label="Next: RDFM Android Device Client" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              RDFM Android Device Client
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        Copyright &#169; Antmicro, 2025.
        
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/antmicro" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/antmicro" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["toc.integrate"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
      
        <script src="_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
    
  </body>
</html>